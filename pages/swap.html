<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سواپ توکن | LevelUp</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* استایل بخش پیام توکن */
        .token-message-box {
            width: 95%;
            max-width: 800px;
            margin: 0 auto 20px;
            padding: 15px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            font-family: 'Vazirmatn', sans-serif;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        .token-message-title {
            text-align: center;
            font-size: 1.3rem;
            font-weight: 700;
            color: #5e35b1;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid rgba(94, 53, 177, 0.1);
        }
        
        .message-scroll-container {
            height: 120px;
            overflow: hidden;
            position: relative;
        }
        
        .message-line {
            height: 40px;
            line-height: 40px;
            font-size: 0.95rem;
            color: #444;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            transition: all 0.8s cubic-bezier(0.22, 0.61, 0.36, 1);
            position: absolute;
            width: 100%;
            opacity: 0;
            transform: translateY(20px);
            text-align: center;
            padding: 0 15px;
        }
        
        .message-line.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        .typing-cursor {
            display: inline-block;
            width: 8px;
            height: 1em;
            background-color: #5e35b1;
            animation: blink 1.2s infinite;
            margin-right: 2px;
            vertical-align: middle;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        /* استایل بخش انگیزشی */
        .motivational-container {
            width: 95%;
            max-width: 800px;
            padding: 15px 0;
            margin: 20px auto;
            background: rgba(0,0,0,0.03);
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        .motivational-text {
            font-size: 1.1rem;
            font-weight: 500;
            color: #333;
            font-family: 'Vazirmatn', sans-serif;
            direction: rtl;
            padding: 10px 20px;
            opacity: 0.6;
            transition: opacity 0.5s ease-in-out;
        }
        
        .motivational-text.fade-out {
            opacity: 0;
        }
        
        /* استایل فرم سواپ */
        .swap-container {
            width: 95%;
            max-width: 500px;
            margin: 20px auto;
            padding: 25px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            font-family: 'Vazirmatn', sans-serif;
        }
        
        .swap-title {
            text-align: center;
            color: #5e35b1;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }
        
        .swap-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .swap-form label {
            font-weight: 500;
            color: #555;
        }
        
        .swap-form select,
        .swap-form input {
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 1rem;
        }
        
        .swap-form select {
            background-color: #f9f9f9;
        }
        
        .max-btn {
            padding: 12px 15px;
            background-color: #f1f1f1;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Vazirmatn', sans-serif;
            transition: background-color 0.2s;
        }
        
        .max-btn:hover {
            background-color: #e0e0e0;
        }
        
        #swapButton {
            padding: 12px;
            background-color: #5e35b1;
            color: white;
            border: none;
            border-radius: 8px;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        #swapButton:hover {
            background-color: #4527a0;
        }
        
        #swapButton:disabled {
            background-color: #b39ddb;
            cursor: not-allowed;
        }
        
        .swap-info {
            text-align: center;
            color: #666;
            padding: 8px;
            background-color: #f5f5f5;
            border-radius: 6px;
        }
        
        .swap-status {
            text-align: center;
            padding: 8px;
            border-radius: 6px;
            margin-top: 10px;
        }
        
        .balances {
            margin-bottom: 0.5rem;
            text-align: center;
            color: #7e57c2;
            font-size: 0.98rem;
        }
    </style>
</head>
<body>
    <!-- بخش پیام توکن -->
    <div class="token-message-box">
        <div class="token-message-title">مزایای توکن LVL</div>
        <div class="message-scroll-container">
            <div class="message-line" id="line1"></div>
            <div class="message-line" id="line2"></div>
            <div class="message-line" id="line3"></div>
        </div>
    </div>

    <!-- بخش انگیزشی -->
    <div class="motivational-container">
        <div class="motivational-text" id="motivational-text">
            در حال بارگذاری جملات انگیزشی...
        </div>
    </div>

    <!-- منوی ناوبری -->
    <nav class="circle-menu-horizontal">
        <a href="/index.html" class="circle-menu-item" aria-label="خانه">
          <div class="icon">🏠</div>
          <span class="label">خانه</span>
        </a>
        <a href="/pages/swap.html" class="circle-menu-item" aria-label="تبدیل ارز">
          <div class="icon">🔄</div>
          <span class="label">تبدیل</span>
        </a>
        <a href="/pages/network.html" class="circle-menu-item" aria-label="شبکه">
          <div class="icon">🌐</div>
          <span class="label">شبکه</span>
        </a>
        <a href="/pages/profile.html" class="circle-menu-item" aria-label="پروفایل من">
          <div class="icon">👤</div>
          <span class="label">پروفایل</span>
        </a>
        <a href="/pages/news.html" class="circle-menu-item" aria-label="اخبار و آموزش">
          <div class="icon">📰</div>
          <span class="label">اخبار</span>
        </a>
        <a href="/pages/shop.html" class="circle-menu-item" aria-label="فروشگاه">
          <div class="icon">🛒</div>
          <span class="label">فروشگاه</span>
        </a>
        <a href="/pages/about.html" class="circle-menu-item" aria-label="درباره ما">
          <div class="icon">ℹ️</div>
          <span class="label">درباره</span>
        </a>
        <a href="/pages/reports.html" class="circle-menu-item" aria-label="گزارشات">
          <div class="icon">🔔</div>
          <span class="label">گزارشات</span>
          <span class="reports-badge" style="display: none;">0</span>
        </a>
    </nav>
    
    <!-- هدر صفحه -->
    <header>
        <h1>سواپ توکن</h1>
        <p>تبدیل سریع و آسان بین MATIC و LVL</p>
    </header>
    
    <!-- بخش اصلی فرم سواپ -->
    <section class="swap-container">
        <h2 class="swap-title">فرم سواپ</h2>
        <form class="swap-form" id="swapForm" autocomplete="off">
            <label for="swapDirection">نوع تبدیل:</label>
            <select id="swapDirection">
                <option value="matic-to-lvl">MATIC → LVL</option>
                <option value="lvl-to-matic">LVL → MATIC</option>
            </select>
            
            <div class="balances">
                <span id="maticBalance">MATIC: -</span> | 
                <span id="lvlBalance">LVL: -</span>
            </div>
            
            <label for="swapAmount">مقدار:</label>
            <div style="display:flex;align-items:center;gap:8px;">
                <input type="number" id="swapAmount" min="0" step="any" placeholder="مقدار را وارد کنید..." style="flex:1;">
                <button type="button" id="maxButton" class="max-btn">ماکسیمم</button>
            </div>
            
            <div class="swap-info" id="swapInfo">نرخ تبدیل: -</div>
            
            <button type="submit" id="swapButton">انجام سواپ</button>
            
            <div class="swap-status" id="swapStatus"></div>
        </form>
    </section>
    
    <!-- فوتر صفحه -->
    <footer>
        <p style="text-align:center; color:#888; margin-top: 30px;">&copy; 2025 LevelUp. All rights reserved.</p>
    </footer>

    <!-- اسکریپت‌ها -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@6.7.0/dist/ethers.umd.min.js"></script>
    <script src="../js/config.js"></script>
    <script src="../js/web3-interactions.js"></script>
    <script src="../js/swap.js"></script>
    
    <script>
    // پیام‌های سه خطی توکن
    const tokenMessages = [
        {
            line1: "💎 خرید و فروش توکن LVL باعث رشد مداوم آن می‌شود",
            line2: "📈 در هر معامله: 2% به پشتوانه + 1% به معرف واریز می‌شود",
            line3: "🔄 سیستم مینت/بارن هوشمند | کارمزد ناچیز پالیگان"
        },
        {
            line1: "🛍️ با LVL از تمام محصولات و خدمات سایت خرید کنید",
            line2: "🏆 امتیازات ویژه دریافت نمایید و از تخفیفات بهره‌مند شوید",
            line3: "⚡ تراکنش‌های سریع و امن درون‌سایتی با کارمزد کم"
        },
        {
            line1: "🔮 آینده‌ای روشن با توکن LevelUp",
            line2: "📊 ارزش رو به رشد در هر معامله - هم در خرید و هم در فروش",
            line3: "🌐 پشتیبانی از تمام تراکنش‌های سایت با توکن LVL"
        }
    ];
    
    // پیام‌های انگیزشی
    const motivationalMessages = [
        "💡 موفقیت یعنی رفتن، حتی وقتی هیچ‌کس تشویقت نمی‌کنه — به خودت ایمان داشته باش",
        "🔥 هر روز، یک فرصت برای برتریه، نه فقط بقا",
        "🌱 آرام باش ولی متوقف نشو",
        "🧠 یادگیری یعنی زنده‌ماندن در طوفان تغییر",
        "💪 فقط ادامه بده... حتی اگه آروم بری، باز جلوتری از اونایی که وایستادن"
    ];
    
    // تنظیمات نمایش
    const typingSpeed = 40;
    const lineDelay = 1200;
    const messageSetDelay = 6000;
    
    // عناصر DOM
    const line1 = document.getElementById('line1');
    const line2 = document.getElementById('line2');
    const line3 = document.getElementById('line3');
    const motivationalText = document.getElementById('motivational-text');
    
    // تایپ کردن متن
    async function typeWriter(text, element) {
        return new Promise(resolve => {
            let i = 0;
            element.innerHTML = '';
            element.classList.add('active');
            
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, typingSpeed);
                } else {
                    element.innerHTML += '<span class="typing-cursor"></span>';
                    setTimeout(() => {
                        element.innerHTML = element.innerHTML.replace('<span class="typing-cursor"></span>', '');
                        resolve();
                    }, 500);
                }
            }
            
            type();
        });
    }
    
    // نمایش یک مجموعه پیام
    async function showMessageSet(message) {
        await typeWriter(message.line1, line1);
        await new Promise(resolve => setTimeout(resolve, lineDelay));
        await typeWriter(message.line2, line2);
        await new Promise(resolve => setTimeout(resolve, lineDelay));
        await typeWriter(message.line3, line3);
    }
    
    // پاک کردن متن با افکت
    async function clearMessages() {
        line1.classList.remove('active');
        line2.classList.remove('active');
        line3.classList.remove('active');
        await new Promise(resolve => setTimeout(resolve, 800));
        line1.innerHTML = '';
        line2.innerHTML = '';
        line3.innerHTML = '';
    }
    
    // چرخه نمایش پیام‌های توکن
    async function runTokenMessages() {
        let index = 0;
        while (true) {
            await showMessageSet(tokenMessages[index]);
            await new Promise(resolve => setTimeout(resolve, messageSetDelay));
            await clearMessages();
            
            index = (index + 1) % tokenMessages.length;
        }
    }
    
    // چرخه نمایش پیام‌های انگیزشی
    function runMotivationalMessages() {
        let currentIndex = 0;
        motivationalText.textContent = motivationalMessages[0];
        
        setInterval(() => {
            motivationalText.classList.add('fade-out');
            
            setTimeout(() => {
                currentIndex = (currentIndex + 1) % motivationalMessages.length;
                motivationalText.textContent = motivationalMessages[currentIndex];
                motivationalText.classList.remove('fade-out');
            }, 500);
        }, 8000);
    }
    
    // شروع نمایش پیام‌ها
    document.addEventListener('DOMContentLoaded', () => {
        runTokenMessages();
        runMotivationalMessages();
    });
    </script>
</body>
</html>