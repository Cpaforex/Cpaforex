<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>پاس پراپ (Pass Prop)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/index-custom.css">
  <link rel="stylesheet" href="css/floating-ai-assistant.css">
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.10.0/dist/ethers.umd.min.js"></script>
</head>
<body>
  <h1 style="text-align:center;color:#00ff88;font-size:2rem;margin-top:2rem;">سرویس پاس پراپ</h1>

  <!-- لیست پراپ‌ها -->
  <div style="max-width:700px;margin:2rem auto 1.5rem auto;background:#232946;border-radius:16px;box-shadow:0 4px 24px #00ff8840;padding:1.5rem;">
    <h2 style="color:#a786ff;font-size:1.2rem;text-align:center;margin-bottom:1.2rem;">لیست پراپ‌های موجود</h2>
    <table style="width:100%;border-collapse:collapse;direction:rtl;">
      <thead>
        <tr style="background:#181c2a;color:#00ff88;font-size:1rem;">
          <th style="padding:0.7rem 0.3rem;border-bottom:1.5px solid #a786ff;">نام پراپ</th>
          <th style="padding:0.7rem 0.3rem;border-bottom:1.5px solid #a786ff;">ارزش پراپ</th>
          <th style="padding:0.7rem 0.3rem;border-bottom:1.5px solid #a786ff;">قیمت</th>
          <th style="padding:0.7rem 0.3rem;border-bottom:1.5px solid #a786ff;">شرکت ارائه‌دهنده</th>
        </tr>
      </thead>
      <tbody>
        <tr style="background:#20243a;color:#fff;">
          <td style="padding:0.6rem 0.3rem;">FTMO 100K</td>
          <td style="padding:0.6rem 0.3rem;">100,000 USD</td>
          <td style="padding:0.6rem 0.3rem;">$499</td>
          <td style="padding:0.6rem 0.3rem;">FTMO</td>
        </tr>
        <tr style="background:#232946;color:#fff;">
          <td style="padding:0.6rem 0.3rem;">MyForexFunds 50K</td>
          <td style="padding:0.6rem 0.3rem;">50,000 USD</td>
          <td style="padding:0.6rem 0.3rem;">$299</td>
          <td style="padding:0.6rem 0.3rem;">MyForexFunds</td>
        </tr>
        <tr style="background:#20243a;color:#fff;">
          <td style="padding:0.6rem 0.3rem;">The5ers 25K</td>
          <td style="padding:0.6rem 0.3rem;">25,000 USD</td>
          <td style="padding:0.6rem 0.3rem;">$179</td>
          <td style="padding:0.6rem 0.3rem;">The5ers</td>
        </tr>
        <tr style="background:#232946;color:#fff;">
          <td style="padding:0.6rem 0.3rem;">E8 100K</td>
          <td style="padding:0.6rem 0.3rem;">100,000 USD</td>
          <td style="padding:0.6rem 0.3rem;">$479</td>
          <td style="padding:0.6rem 0.3rem;">E8 Funding</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div id="admin-prop-panel" style="display:none;max-width:700px;margin:2rem auto 1.5rem auto;background:#181c2a;border-radius:14px;box-shadow:0 2px 12px #a786ff30;padding:1.2rem 1.5rem 1.5rem 1.5rem;border:2px solid #a786ff;">
    <h2 style="color:#ffb300;font-size:1.1rem;text-align:center;margin-bottom:1.2rem;">پنل مدیریت پراپ‌ها (ادمین)</h2>
    <form id="add-prop-form" style="display:flex;flex-wrap:wrap;gap:0.7rem 1.2rem;align-items:flex-end;justify-content:center;margin-bottom:1.2rem;">
      <div style="flex:1 1 120px;min-width:120px;">
        <label style="color:#a786ff;font-size:0.95em;">نام پراپ</label>
        <input id="prop-name" type="text" style="width:100%;padding:0.4rem 0.7rem;border-radius:6px;border:1px solid #a786ff;background:#232946;color:#fff;font-size:0.97em;" required />
      </div>
      <div style="flex:1 1 100px;min-width:100px;">
        <label style="color:#a786ff;font-size:0.95em;">ارزش پراپ</label>
        <input id="prop-value" type="text" style="width:100%;padding:0.4rem 0.7rem;border-radius:6px;border:1px solid #a786ff;background:#232946;color:#fff;font-size:0.97em;" required />
      </div>
      <div style="flex:1 1 80px;min-width:80px;">
        <label style="color:#a786ff;font-size:0.95em;">قیمت</label>
        <input id="prop-price" type="text" style="width:100%;padding:0.4rem 0.7rem;border-radius:6px;border:1px solid #a786ff;background:#232946;color:#fff;font-size:0.97em;" required />
      </div>
      <div style="flex:1 1 120px;min-width:120px;">
        <label style="color:#a786ff;font-size:0.95em;">شرکت ارائه‌دهنده</label>
        <input id="prop-provider" type="text" style="width:100%;padding:0.4rem 0.7rem;border-radius:6px;border:1px solid #a786ff;background:#232946;color:#fff;font-size:0.97em;" required />
      </div>
      <button type="submit" style="background:#00ff88;color:#181c2a;font-weight:bold;border:none;border-radius:8px;padding:0.6rem 1.5rem;font-size:1em;cursor:pointer;box-shadow:0 2px 8px #00ff8840;">➕ افزودن</button>
    </form>
    <div id="admin-prop-list"></div>
  </div>
  <div id="auth-loading" style="color:#00ccff;text-align:center;margin-top:80px;font-size:1.2rem;font-weight:bold;">در حال احراز هویت...</div>
  <script src="js/config.js"></script>
  <script src="js/auth-redirect.js"></script>
  <script>
    function showTab(tab) {
      switch(tab) {
        case 'dashboard': window.location.href = 'index.html#dashboard'; break;
        case 'swap': window.location.href = 'swap.html'; break;
        case 'transfer': window.location.href = 'transfer.html'; break;
        case 'network': window.location.href = 'network.html'; break;
        case 'profile': window.location.href = 'profile.html'; break;
        case 'reports': window.location.href = 'reports.html'; break;
        case 'about': window.location.href = 'index.html#about'; break;
        case 'prop': window.location.href = 'admin-prop.html'; break;
        case 'prop-service': window.location.href = 'prop-service.html'; break;
        case 'autotrade-license': window.location.href = 'autotrade-license.html'; break;
        case 'copytrades': window.location.href = 'copytrades.html'; break;
        default: window.location.href = 'index.html';
      }
    }
    function navigateToPage(page) {
      window.location.href = page;
    }
    function showSignalBox() {
      window.location.href = 'signal.html';
    }
    function showSubAdminModal() {
      window.location.href = 'admin-owner-panel.html';
    }
  </script>
  <script>
    window.navigateToPage = function(pageUrl) {
      window.scrollTo({ top: 0, behavior: 'smooth' });
      setTimeout(() => { window.location.href = pageUrl; }, 300);
    };
    window.showTab = function(tab) {
      window.location.href = 'index.html#' + tab;
    };
    window.showSignalBox = function() {
      window.location.href = 'signal.html';
    };
    document.addEventListener('DOMContentLoaded', function() {
      checkUserActivation();
    });
  </script>
  <!-- Hamburger Menu (voice-activated) -->
  <div id="hamburger-menu-include"></div>
  <script>
    fetch('hamburger-menu.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('hamburger-menu-include').innerHTML = html;
      });
  </script>
  <script>
    // شبیه‌سازی وضعیت دیپلویر (ادمین)
    window.isDeployer = true; // برای تست، بعداً با چک قرارداد جایگزین شود
    // لیست پراپ‌ها (دمو)
    let props = [
      {name:'FTMO 100K', value:'100,000 USD', price:'$499', provider:'FTMO'},
      {name:'MyForexFunds 50K', value:'50,000 USD', price:'$299', provider:'MyForexFunds'},
      {name:'The5ers 25K', value:'25,000 USD', price:'$179', provider:'The5ers'},
      {name:'E8 100K', value:'100,000 USD', price:'$479', provider:'E8 Funding'}
    ];
    function renderAdminPropList() {
      let html = `<table style='width:100%;border-collapse:collapse;direction:rtl;'>
        <thead><tr style='background:#232946;color:#00ff88;font-size:1em;'>
          <th style='padding:0.5rem 0.2rem;border-bottom:1px solid #a786ff;'>نام پراپ</th>
          <th style='padding:0.5rem 0.2rem;border-bottom:1px solid #a786ff;'>ارزش پراپ</th>
          <th style='padding:0.5rem 0.2rem;border-bottom:1px solid #a786ff;'>قیمت</th>
          <th style='padding:0.5rem 0.2rem;border-bottom:1px solid #a786ff;'>شرکت</th>
          <th style='padding:0.5rem 0.2rem;border-bottom:1px solid #a786ff;'>حذف</th>
        </tr></thead><tbody>`;
      props.forEach((p,i) => {
        html += `<tr style='background:${i%2===0?'#20243a':'#232946'};color:#fff;'>
          <td style='padding:0.4rem 0.2rem;'>${p.name}</td>
          <td style='padding:0.4rem 0.2rem;'>${p.value}</td>
          <td style='padding:0.4rem 0.2rem;'>${p.price}</td>
          <td style='padding:0.4rem 0.2rem;'>${p.provider}</td>
          <td style='padding:0.4rem 0.2rem;text-align:center;'><button onclick='removeProp(${i})' style='background:#ff6b6b;color:#fff;border:none;border-radius:6px;padding:0.2rem 0.8rem;cursor:pointer;font-size:1em;'>🗑️ حذف</button></td>
        </tr>`;
      });
      html += '</tbody></table>';
      document.getElementById('admin-prop-list').innerHTML = html;
    }
    function removeProp(idx) {
      if(confirm('آیا مطمئن هستید که می‌خواهید این پراپ را حذف کنید؟')) {
        props.splice(idx,1); renderAdminPropList();
      }
    }
    document.getElementById('add-prop-form')?.addEventListener('submit',function(e){
      e.preventDefault();
      const name = document.getElementById('prop-name').value.trim();
      const value = document.getElementById('prop-value').value.trim();
      const price = document.getElementById('prop-price').value.trim();
      const provider = document.getElementById('prop-provider').value.trim();
      if(name && value && price && provider) {
        props.push({name,value,price,provider});
        renderAdminPropList();
        this.reset();
      }
    });
    // نمایش پنل فقط برای دیپلویر
    if(window.isDeployer) {
      document.getElementById('admin-prop-panel').style.display = '';
      renderAdminPropList();
    }
  </script>
</body>
</html> 